# 🎮 프론트엔드 중심 개발 체크리스트
**Casino-Club F2P 프로젝트 개발 로드맵**

---

## 📋 현재 상황 분석
- ✅ 프론트엔드에서 **게임 로직 코어** 담당으로 변경
- ✅ 백엔드는 **API 제공자** 역할로 축소
- ✅ 테스트 커버리지 60% 달성
- ❌ 일부 테스트 파일 손상 (auth, slot)
- ❌ 데이터베이스 스키마 불일치 (site_id 컬럼)

---

## 🚀 Phase 1: 핵심 API 안정화 (최우선)

### 1.1 인증 API 완전 동작 확인 
- [ ] **백엔드 서버 실행 확인** (포트 8002)
- [ ] **헬스체크 API** 동작 확인 (`/api/health`)
- [ ] **초대코드 생성 API** 동작 확인 (`/api/admin/invite-codes`)
- [ ] **회원가입 API** 동작 확인 (`/api/auth/signup`)
- [ ] **로그인 API** 동작 확인 (`/api/auth/login`)

### 1.2 데이터베이스 스키마 동기화
- [ ] **site_id 컬럼 추가** - 데이터베이스 마이그레이션 실행
- [ ] **phone_number 컬럼 확인**
- [ ] **password_hash 컬럼 확인**
- [ ] **테스트 데이터베이스 재생성**

### 1.3 API 통합 테스트 실행
- [ ] `test_api_integration.py` 실행
- [ ] 모든 인증 플로우 정상 동작 확인
- [ ] 에러 응답 형식 일관성 확인

---

## 🎯 Phase 2: 프론트엔드 연동 준비

### 2.1 프론트엔드 필요 API 식별
- [ ] **사용자 정보 조회 API** (`/api/users/profile`)
- [ ] **토큰 잔액 조회 API** (`/api/users/balance`)
- [ ] **게임 결과 저장 API** (`/api/games/result`)
- [ ] **순위/통계 조회 API** (`/api/users/stats`)

### 2.2 게임 로직 분리 작업
- [ ] **백엔드 게임 로직 제거/간소화**
  - [ ] RPS Service → 결과 저장만
  - [ ] Slot Service → 결과 저장만  
  - [ ] Roulette Service → 결과 저장만
  - [ ] Gacha Service → 확률 설정 제공만

### 2.3 API 응답 형식 표준화
- [ ] **성공 응답 형식** 통일
- [ ] **에러 응답 형식** 통일
- [ ] **페이지네이션 형식** 통일
- [ ] **프론트엔드 요구사항 반영**

---

## 🧪 Phase 3: 테스트 전략 재정비

### 3.1 손상된 테스트 파일 복구
- [ ] `test_auth.py` 재작성
- [ ] `test_slot_service.py` 재작성
- [ ] Import 오류 해결

### 3.2 게임 로직 테스트 간소화
- [ ] **복잡한 게임 로직 테스트 제거**
- [ ] **API 엔드포인트 테스트만 유지**
- [ ] **데이터 저장/조회 로직 테스트 집중**

### 3.3 통합 테스트 강화
- [ ] **프론트엔드-백엔드 연동 테스트**
- [ ] **실제 사용 시나리오 기반 테스트**
- [ ] **성능 테스트** (응답 시간)

---

## 🔄 Phase 4: 프론트엔드 연동 작업

### 4.1 프론트엔드 개발 지원
- [ ] **API 문서 업데이트** (OpenAPI/Swagger)
- [ ] **CORS 설정 확인**
- [ ] **JWT 토큰 처리 확인**
- [ ] **WebSocket 연결** (실시간 기능)

### 4.2 실시간 기능 구현
- [ ] **게임 결과 실시간 업데이트**
- [ ] **순위 실시간 업데이트**
- [ ] **알림 시스템 연동**

### 4.3 배포 환경 준비
- [ ] **개발/스테이징/프로덕션 환경 분리**
- [ ] **환경변수 설정**
- [ ] **Docker 컨테이너 설정**

---

## 📊 Phase 5: 모니터링 & 최적화

### 5.1 성능 모니터링
- [ ] **API 응답 시간 모니터링**
- [ ] **데이터베이스 쿼리 최적화**
- [ ] **메모리 사용량 확인**

### 5.2 로깅 & 에러 추적
- [ ] **구조화된 로깅 구현**
- [ ] **에러 추적 시스템** (Sentry)
- [ ] **API 사용량 분석**

### 5.3 보안 강화
- [ ] **JWT 토큰 보안 검토**
- [ ] **SQL Injection 방지**
- [ ] **Rate Limiting 구현**

---

## 🎯 즉시 실행할 작업 (Today)

### ⚡ 1시간 내 완료 목표
1. [✅] **백엔드 서버 실행 및 헬스체크**
   - ✅ 서버 실행 성공 (포트 8002)
   - ❌ /api/health 엔드포인트 없음 (404)
   - ✅ Swagger UI 접근 가능 (/docs)
2. [🔄] **API 통합 테스트 실행**
   - 🔄 엔드포인트 경로 확인 필요
3. [❌] **데이터베이스 스키마 오류 확인**

### 🔧 2-3시간 내 완료 목표  
4. [ ] **site_id 컬럼 추가 마이그레이션**
5. [ ] **손상된 테스트 파일 최소 복구**
6. [ ] **핵심 API 100% 동작 확인**

### 📋 금일 완료 목표
7. [ ] **프론트엔드 필요 API 목록 작성**
8. [ ] **게임 로직 분리 계획 수립**
9. [ ] **내일 작업 계획 수립**

---

## 🚨 주의사항

### ❗ 하지 말아야 할 것
- ❌ **복잡한 게임 로직 테스트 수정에 시간 낭비**
- ❌ **완벽한 테스트 커버리지 추구**
- ❌ **사용하지 않는 기능 개발**

### ✅ 집중해야 할 것
- ✅ **프론트엔드가 실제로 사용할 API만**
- ✅ **빠른 프로토타이핑과 검증**
- ✅ **프론트엔드 개발자와의 소통**

---

## 📞 다음 단계 결정 기준

```
IF 백엔드 API가 완전히 동작한다면:
  → Phase 2로 진행 (프론트엔드 연동 준비)
  
ELSE IF 기본 API도 동작하지 않는다면:
  → Phase 1에서 문제 해결 집중
  
ELSE IF 프론트엔드 요구사항이 변경된다면:
  → 요구사항 재정의 후 계획 수정
```

---

**🎯 목표**: 프론트엔드 개발을 막지 않는 안정적인 백엔드 API 제공
**⏰ 우선순위**: 빠른 검증 > 완벽한 구현
**🔄 원칙**: 프론트엔드 중심 → 백엔드 지원
