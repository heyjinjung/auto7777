# 카지노 클럽 F2P 프로젝트 체크리스트 (2025년 7월 26일)

## 시스템 상태 및 접속 정보

 
- **Backend API**: http://139.180.155.143:8000
- **Swagger UI**: http://139.180.155.143:8000/docs

### 서비스 상태
- ✅ Zookeeper: 정상 작동 (healthy)
- ✅ Kafka: 정상 작동 (healthy)
- ✅ PostgreSQL: 정상 작동 (healthy)
- ✅ Redis: 정상 작동 (healthy)
- ✅ Celery Worker & Beat: 정상 작동
- ✅ Frontend: 정상 작동 및 외부 접근 가능
- ✅ Backend: 실행 중 (healthcheck 개선됨)

## 1. 인프라 설정 [제일힘든작업-완성시 1대만 서버 돌리고 사용자/관리자 모두 자기 자리에서 서비스 이용가능]
- ✅ 서버 설정 (AlmaLinux 8 서버)
- ✅ Docker 및 Docker Compose 설치
- ✅ 프로젝트 코드 클론
- ✅ Docker Compose 구성 및 경로 수정
- ✅ 컨테이너 정상 실행 확인
- ✅ 네트워크 및 방화벽 설정

## 2. 데이터베이스 설정
- ✅ PostgreSQL 데이터베이스 초기화
- ✅ 마이그레이션 실행 (Alembic)
- ✅ 테스트 데이터 가져오기 (JSON → PostgreSQL)
- ✅ Redis 캐시 구성

- **Frontend**: http://139.180.1  
- **Mock API 제거 및 실제 백엔드 API 연동 완료**
  - [✅] **백엔드 결과 기반 릴 시각화 구현**
  - [✅] **인증 토큰 처리 구현 (Bearer Token)**
  - [✅] **에러 핸들링 및 사용자 피드백 개선**
  - [✅] **실제 토큰 차감/보상 시스템 연결 완료**
  - [✅] **API URL 설정 수정 (프로덕션 서버로 변경)**
  - [✅] **슬롯머신 팝업 페이지 확인 완료** 
  - (`/games/slots/popup`)

## 3. 백엔드 API (FastAPI)
- [ ] 인증 시스템 검증 (JWT 기반)
## 로그인/회원가입 API 테스트 보완점
- [ ] invite code 유효성 검증 케이스 추가
- [ ] 닉네임 중복/형식 테스트 케이스 보완
- [ ] JWT 토큰 만료/재발급 시나리오 테스트
- [ ] 비정상 입력값(공백, 특수문자 등) 처리 확인
- [ ] 응답 메시지 및 에러 코드 일관성 검증
- [ ] 사용자 관리 API 검증
- [ ] 게임 코어 API 검증
- [ ] 실시간 데이터 처리 검증 (Kafka)
- [ ] 스케줄링된 작업 검증 (APScheduler)
- [ ] API 엔드포인트 CORS 설정 점검
- [ ] API 응답 형식 표준화 검증
- [ ] 프론트엔드-백엔드 API 연결 검증
  - [X] 슬롯머신 API 연동 문제 해결
  - [x] 인증 API 연결 테스트
  - [x] 사용자 프로필 API 연결 테스트
  - [ ] 게임 관련 API 연결 테스트
  - [ ] 상점 및 결제 API 연결 테스트
  - [ ] 관리자 기능 API 연결 테스트
- [ ] 관리자 API 검증
  - [ ] 사용자 검색 및 필터링 API
  - [ ] 사용자 정보 수정 API
  - [ ] 리워드 및 포인트 분배 API
  - [ ] 통계 및 분석 데이터 API
  - [ ] 로그 조회 및 내보내기 API
  - [ ] 시스템 설정 관리 API

## FastAPI/Swagger API 동기화 점검 체크리스트
- [ ] FastAPI 서버 정상 실행 여부 확인 
     (healthcheck, /docs 접속)
- [ ] Swagger UI에서 모든 주요 엔드포인트 노출 여부 확인
- [ ] routers, models, schemas 등 최신 코드가 
      서버에 반영되어 있는지 확인 (배포/마이그레이션)
- [ ] 신규/변경된 API 엔드포인트가 Swagger에 반영확인
- [ ] API 응답 예시 및 스키마가 Swagger와  
      실제 응답과 일치하는지 검증
- [ ] 인증/권한 관련 엔드포인트의 Swagger 문서화 상태 확인
- [ ] 주요 엔드포인트 누락/오타/불일치 여부 점검
- [ ] 프론트엔드에서 사용하는 모든 API가 Swagger 명시확인
- [ ] API 변경 시 Swagger 문서 자동 
      갱신/수동 갱신 프로세스 점검
- [ ] 실제 서버 환경에서 Swagger 문서와 API 동작 일치 
      여부 테스트

## 4. 프론트엔드 개발 (Next.js)
- [ ] 랜딩 페이지 확인 및 미세 조정
- [ ] 사용자 인증 UI 검증
- [ ] 게임 컴포넌트 검증 (슬롯머신, 가챠 시스템 등)
- [ ] API 통합 및 데이터 연결
  - [ ] API 클라이언트 라이브러리 구현 확인
  - [ ] API 엔드포인트 URL 설정 확인 (개발/프로덕션 환경)
  - [ ] 인증 토큰 처리 및 갱신 로직 확인
  - [ ] 에러 핸들링 및 로딩 상태 관리 확인
  - [ ] 백엔드 API 규격과 프론트엔드 데이터 모델 일치 확인
- [ ] 관리자 대시보드 구현 및 확인
  - [ ] 사용자 관리 기능 (목록, 검색, 필터링)
  - [ ] 리워드 관리 및 분배 기능 구현
  - [ ] 사용자 등급 변경 기능 구현
  - [ ] 통계 및 로그 확인 기능 구현
  - [ ] 실시간 모니터링 기능 구현
- [ ] 다크 모드 및 네온 테마 적용 검증
- [ ] 게임 대시보드 UI 개선
  - [ ] 한 화면에 4분할로 게임 배치 구현 (가시성 향상)
  - [ ] 하단 게임 버튼 클릭 시 게임 선택 팝업창 구현
  - [ ] 팝업창에서 4개 중 게임 선택 기능 추가
- [ ] 상점 UI 개선
  - [ ] 상단에 텔레그램 모양 버튼 추가 (담당실장 연결)
  - [ ] 모든 구매 후 "담당실장 문의" 문구 표시 기능 추가 (구매 후 유저 이탈 방지)
  - [ ] 아이템 구매 목록과 포인트 구매 목록의 동시 가시성 확보 (두 번째 목록이 일부라도 보이게 구현)
- [ ] 프로필 페이지 개선
  - [ ] 상단 유저 닉네임, 레벨 정보 명확하게 배치
  - [ ] 중앙에 보유 머니, 출석일수, 기타 요약 정보 가시성 확보
  - [ ] 하단에 모델 바로가기 버튼 추가

## 5. 게임 메커니즘 구현
- [✅] 슬롯머신 메커니즘 검증 **[API 연동 완료 및 테스트 필요]**
  - ✅ 🎮 프론트엔드 중심 슬롯머신으로 완전 변경 완료!
  - ✅ 게임 로직을 프론트엔드에서 100% 처리
  - ✅ 기존 배당 시스템 유지 
  - ✅ 백엔드는 단순 잔액 동기화만 담당
  - ✅ Axios settle.js 에러해결 (프론트엔드 우선 처리)
  - ✅ 빌드 오류 수정 완료 (중복 코드 제거)
  - ✅ 백엔드 API 구현 완료 (`/api/games/slot/spin`)
  - ✅ 프론트엔드 컴포넌트 구현 완료
  - ✅ 확률 로직 구현 (신규 유저 +15%, VIP +6%, 연패 보상)
  - ✅ UI/UX 및 애니메이션 효과 구현
  - ✅ **Mock API 제거 및 실제 백엔드 API 연동 완료**
  - ✅ **백엔드 결과 기반 릴 시각화 구현**
  - ✅ **인증 토큰 처리 구현 (Bearer Token)**
  - ✅ **에러 핸들링 및 사용자 피드백 개선**
  - ✅ **실제 토큰 차감/보상 시스템 연결 완료**
  - ✅ **API URL 설정 수정 (프로덕션 서버로 변경)**
  - ✅ **실제 서버 환경에서 테스트 진행 중**
- ✅ 가챠 시스템 (Lucky Boxes) 검증
  - ✅이름을 "랜덤 뽑기"로 변경
  - ✅UI 및 애니메이션 효과 점검
- [ ] 상점메뉴구현
    - [ ] MODEL 아이템 구매 메뉴 정확히 구현
    - [ ] 한폴방지 - 20,000 GOLD
    - [ ] 출석연결 - 30,000 GOLD (월 3회 제한)
    - [ ] 1일 콤프2배 - 40,000 GOLD
    - [ ] 충전30% - 50,000 GOLD (주 1회 제한)
    - [ ] 조기등업 - 500,000 GOLD (1회만 구매가능)
  - [ ] MODEL 포인트 구매 메뉴 정확히 구현
    - [ ] 30,000 포인트 - 30,000 GOLD
    - [ ] 105,000 포인트 - 100,000 GOLD (5% 보너스)
    - [ ] 330,000 포인트 - 300,000 GOLD (10% 보너스)
    - [ ] 1,150,000 포인트 - 1,000,000 GOLD (15% 보너스)
- [ ] 감정 피드백 시스템 검증
- ✅ 가위바위보 게임 개선
  - ✅ 게임 딜레이 추가로 빠른 연속 클릭 방지
  - ✅ "가위~", "바위~", "보~" 순차적 애니메이션 추가
  - ✅ 각 라운드 사이 적절한 간격 구현 (현재 너무 빠름)


## 6. 데이터 기반 개인화
- [ ] RFM 기반 사용자 세그먼테이션 검증
- [ ] 사이버 토큰 기반 추천 엔진 구성
- [ ] 심리측정 퀴즈 및 마이크로 설문 구성

## 7. 알림 시스템
- [ ] 실시간 알림 시스템 구성 (SSE)
- [ ] 푸시 알림 및 이메일 알림 설정 (Celery)
- [x] 월렛 페이지 내역 개선
  - [x] 1번 화면(현재) 삭제하고 바로 2번 화면으로 이동
  - [ ] GOLD 사용 내역 바로 표시
  - [ ] GOLD 배팅 내역 및 GOLD 사용 내역 명확하게 분리 표시
  - [ ] 슬롯/가위바위보 사용 기록 크기 적절하게 조정 (현재 너무 큼)
  - [ ] 한 화면에 더 많은 내역이 보이도록 조정

## 8. 모니터링 및 분석
- [ ] 분석 및 보고 엔드포인트 설정
- [ ] 실시간 대시보드 설정 (Grafana/Metabase)
- [ ] 사용자 행동 추적 구성

## 9. 테스트 및 QA
- [ ] 백엔드 API 테스트 실행 (Pytest)
- [ ] 프론트엔드 컴포넌트 테스트 (Jest)
- [ ] 통합 테스트 실행
- [ ] 부하 테스트 실행

## 10. 성능 최적화
- [ ] API 응답 속도 최적화
- [ ] 프론트엔드 로딩 최적화
- [ ] 데이터베이스 쿼리 최적화
- [ ] 이미지 및 애셋 최적화

## 11. 보안
- [ ] API 엔드포인트 보안 검증
- [ ] 인증 및 권한 부여 검증
- [ ] 데이터 암호화 검증
- [ ] SSL/TLS 설정

## 12. API 통합 및 문제 해결
- [ ] 프론트엔드-백엔드 API 연결 문제 해결
  - [ ] API 엔드포인트 URL 설정 확인 (개발/프로덕션 환경)
  - [ ] CORS 설정 문제 해결
  - [ ] 인증 토큰 처리 및 갱신 로직 문제 해결
  - [ ] 네트워크 요청/응답 오류 디버깅
- [ ] API 응답 형식 및 데이터 모델 불일치 해결
  - [ ] 백엔드 API 스키마와 프론트엔드 데이터 모델 정렬
  - [ ] 타입 변환 및 유효성 검사 로직 추가
  - [ ] 날짜/시간 형식 통일
- [ ] API 오류 처리 개선
  - [ ] 오류 응답 형식 표준화
  - [ ] 클라이언트 측 오류 처리 로직 개선
  - [ ] 오류 로깅 및 모니터링 강화

## 우선 진행할 작업
1. ✅ 컨테이너 정상 작동 확인
2. ✅ 데이터베이스 초기화 및 마이그레이션
3. [ ] 테스트 데이터 가져오기 (import_to_postgres.py 사용)
4. [ ] 백엔드 API 테스트
5. **슬롯머신 API 연동 수정 중**
   - ✅ 프론트엔드에서 Mock API 제거 완료
   - ✅ 실제 백엔드 API 호출로 변경 완료
   - ✅ 인증 토큰 처리 구현 완료
   - ✅ CORS 설정 프로덕션 도메인 추가 완료
   - ✅ 백엔드 결과 기반 릴 시각화 로직 구현
   - ⚠️ **실제 서버 환경에서 테스트 필요**
6. [ ] 프론트엔드-백엔드 API 연결 문제 해결
   - API 엔드포인트 URL 설정 확인
   - CORS 설정 검증
   - 인증 토큰 처리 로직 점검
   - 네트워크 요청/응답 디버깅
7. [ ] 프론트엔드 UI 확인

## UI 개선 우선순위
1. 게임 대시보드 4분할 레이아웃 및 게임 선택 팝업
2. ✅가위바위보 게임 딜레이 및 애니메이션 개선
3. 상점 내 MODEL 아이템 및 포인트 구매 메뉴 구현
4. 월렛 페이지 내역 화면 개선
5. ✅ 가챠 시스템 이름 변경 및 UI 개선 (이름 변경 완료)
6. 프로필 페이지 레이아웃 개선
7. 관리자 대시보드 및 기능 구현

## 관리자 기능 우선순위
1. 사용자 목록 조회 및 검색 기능
2. 사용자별 리워드 및 포인트 부여 기능
3. 사용자 등급 변경 및 권한 관리
4. 게임 활동 모니터링 및 통계
5. 시스템 설정 및 파라미터 관리
## 관리자 기능 (확인된 백앤드 항목 체크)
- ✅ 회원 목록 조회
- ✅ 회원 상세 정보 보기
- ✅ 회원 등급 변경
- ✅ 회원 삭제
- ✅ 회원 상태 변경(활성/비활성)       
- ✅ 회원 활동 로그 확인  
- ✅ 사용자별 리워드 및 포인트 부여 기능
- ✅ 게임 활동 모니터링 및 통계
- ✅ 시스템 설정 및 파라미터 관리

## 테스트
- [ ] 프론트엔드 유닛 테스트
- [ ] 프론트엔드 E2E 테스트
